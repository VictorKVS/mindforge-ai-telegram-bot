# src/polygon/knowledge/bricks_quality_v1.yaml

knowledge_block_id: bricks_quality_v1
domain: construction.materials.bricks
version: 1.0
author: teacher_agent
created_at: "2025-12-18T14:00:00Z"

description: >
  Блок знаний о строительных кирпичах.
  Используется агентами для принятия решений при строительстве фундамента
  и выборе материалов у магазинов.

# -------------------------------------------------
# КЛАССИФИКАЦИЯ КИРПИЧЕЙ
# -------------------------------------------------

brick_types:
  ceramic:
    description: "Керамический кирпич"
    usage: ["фундамент", "несущие стены", "перегородки"]
  silicate:
    description: "Силикатный кирпич"
    usage: ["перегородки"]
    restrictions: ["нельзя использовать в фундаменте"]
  clinker:
    description: "Клинкерный кирпич"
    usage: ["фундамент", "цоколь", "высоконагруженные конструкции"]

# -------------------------------------------------
# ПРОЧНОСТЬ (МАРКА)
# -------------------------------------------------

strength_classes:
  M75:
    allowed_for:
      - "перегородки"
      - "внутренние стены"
    forbidden_for:
      - "фундамент"
      - "несущие конструкции"

  M100:
    allowed_for:
      - "фундамент"
      - "несущие стены"
      - "гаражи"

  M125:
    allowed_for:
      - "фундамент"
      - "несущие стены"
      - "многоэтажные конструкции"

  M150:
    allowed_for:
      - "фундамент"
      - "многоэтажные конструкции"
      - "промышленные здания"

# -------------------------------------------------
# МОРОЗОСТОЙКОСТЬ
# -------------------------------------------------

frost_resistance:
  F25:
    climate: "умеренный"
    allowed_for: ["внутренние работы"]

  F50:
    climate: "холодный"
    allowed_for: ["фундамент", "наружные стены"]

  F100:
    climate: "северный"
    allowed_for: ["фундамент", "наружные конструкции"]

# -------------------------------------------------
# ВОДОПОГЛОЩЕНИЕ
# -------------------------------------------------

water_absorption:
  low:
    max_percent: 6
    suitable_for: ["фундамент"]

  medium:
    max_percent: 10
    suitable_for: ["наружные стены"]

  high:
    max_percent: 16
    forbidden_for: ["фундамент"]

# -------------------------------------------------
# ПРАВИЛА ПРИНЯТИЯ РЕШЕНИЙ (КЛЮЧЕВОЕ)
# -------------------------------------------------

rules:
  - id: rule_foundation_minimum
    if:
      usage: "фундамент"
    require:
      strength_class: ">=M100"
      frost_resistance: ">=F50"
      water_absorption: "low"

  - id: rule_silicate_restriction
    if:
      brick_type: "silicate"
      usage: "фундамент"
    decision: "forbidden"

# -------------------------------------------------
# РЕКОМЕНДАЦИИ
# -------------------------------------------------

recommendations:
  - usage: "фундамент"
    recommend:
      strength_classes: ["M100", "M125", "M150"]
      brick_types: ["ceramic", "clinker"]
      frost_resistance: ["F50", "F100"]

# -------------------------------------------------
# ВЫХОДНЫЕ СИГНАЛЫ ДЛЯ АГЕНТОВ
# -------------------------------------------------

agent_output:
  on_valid:
    message: "Материал соответствует требованиям для фундамента."
    decision: "allow"

  on_invalid:
    message: "Материал не подходит для фундамента."
    decision: "deny"
