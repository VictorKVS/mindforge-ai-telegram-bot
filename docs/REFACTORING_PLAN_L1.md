REFACTORING_PLAN_L1.md
MindForge ¬∑ L1 Refactoring & Alignment Plan
1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ø–ª–∞–Ω –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–π –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å —É—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π L1, –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (Telegram + LLaMA).

–¶–µ–ª—å:
–ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å ‚Äú—Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø—Ä–æ—Ç–æ—Ç–∏–ø‚Äù –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é L1-—Å–∏—Å—Ç–µ–º—É,
–≥–æ—Ç–æ–≤—É—é –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏, —Ä–∞–∑–≤–∏—Ç–∏—é –∏ –∞—É–¥–∏—Ç—É.

2. –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–Ω—Ü–∏–ø —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç)

üîí –ú—ã –Ω–µ –ª–æ–º–∞–µ–º —Ç–æ, —á—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.
–ú—ã:

–∏–∑–æ–ª–∏—Ä—É–µ–º,

–æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º,

–ø—Ä–∏–≤–æ–¥–∏–º –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º,

–ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–Ω–æ—Å–∏–º.

‚ùå –ù–∏–∫–∞–∫–æ–≥–æ Big Bang Refactor.

3. –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (as-is, –∫—Ä–∞—Ç–∫–æ)
–ß—Ç–æ —É–∂–µ –µ—Å—Ç—å –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

Telegram-–±–æ—Ç

LLaMA (–ª–æ–∫–∞–ª—å–Ω–æ / —á–µ—Ä–µ–∑ runtime)

–±–∞–∑–æ–≤—ã–π reasoning

–ø–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

–ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ª–æ–≥–∏–∫–∞ –∞–≥–µ–Ω—Ç–∞ –∏ –¥–æ—Å—Ç—É–ø–∞ —Å–º–µ—à–∞–Ω–∞

–æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç UAG –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π enforcement point

–Ω–µ—Ç —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ sandbox/prod —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è

–Ω–µ—Ç —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª–∏–≥–æ–Ω–∞ –∫–∞–∫ —ç–∫–∑–∞–º–µ–Ω–∞—Ç–æ—Ä–∞

4. –¶–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ L1 (to-be)
Telegram
 ‚Üí Agent L0 (intent-only)
   ‚Üí UAG-SANDBOX (RBAC + validation)
     ‚Üí fake_shop
       ‚Üí PASS (Polygon)


–í—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã:

–æ–ø–∏—Å–∞–Ω—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ,

—Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏,

–ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ç–µ—Å—Ç–∞–º–∏.

5. –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (–ø–æ —ç—Ç–∞–ø–∞–º)
üîπ –≠–¢–ê–ü 1. –ó–∞–º–æ—Ä–æ–∑–∫–∞ –∏ –∑–∞—â–∏—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–¶–µ–ª—å: –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞—Ç—å.

–î–µ–π—Å—Ç–≤–∏—è

–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ä–∞–±–æ—á–∏–π –∫–æ–¥ (git tag / –≤–µ—Ç–∫–∞ legacy-working)

–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏ –≤ —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã

–í—ã–Ω–µ—Å—Ç–∏ —Ç–µ–∫—É—â–∏–π Telegram + LLaMA –∫–æ–¥ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å

–†–µ–∑—É–ª—å—Ç–∞—Ç

–ï—Å—Ç—å ¬´—Ä–∞–±–æ—á–∏–π —ç—Ç–∞–ª–æ–Ω¬ª

–ú–æ–∂–Ω–æ —Å–º–µ–ª–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –¥–∞–ª—å—à–µ

üîπ –≠–¢–ê–ü 2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä–∫–∞—Å–∞ L1 (–±–µ–∑ –ª–æ–≥–∏–∫–∏)

–¶–µ–ª—å: –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞.

–î–µ–π—Å—Ç–≤–∏—è

–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

agent/

uag/

polygon/

providers/

contracts/

–°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã-–∑–∞–≥–ª—É—à–∫–∏ (pass / TODO)

–ü—Ä–∏–º–µ—Ä
agent/agent.py        # TODO: Agent L0
uag/gateway.py        # TODO: UAG entrypoint
polygon/runner.py     # TODO: certification flow

–†–µ–∑—É–ª—å—Ç–∞—Ç

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ = –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ö–æ–¥ –µ—â—ë –Ω–µ –ø–∏—à–µ–º

üîπ –≠–¢–ê–ü 3. –ò–Ω—Ç–µ–Ω—Ç-—Å–ª–æ–π –∞–≥–µ–Ω—Ç–∞ (L0)

–¶–µ–ª—å: –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –±–æ—Ç –≤ Agent L0.

–î–µ–π—Å—Ç–≤–∏—è

–í—ã–Ω–µ—Å—Ç–∏ reasoning –≤ agent/agent.py

–í–≤–µ—Å—Ç–∏ intent_recognizer

–ó–∞–ø—Ä–µ—Ç–∏—Ç—å –ª—é–±—ã–µ –ø—Ä—è–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è ‚Üí intent ‚Üí UAG

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

–ù–∏–∫–∞–∫–∏—Ö API –≤—ã–∑–æ–≤–æ–≤

–ù–∏–∫–∞–∫–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

–†–µ–∑—É–ª—å—Ç–∞—Ç

–ê–≥–µ–Ω—Ç –¥—É–º–∞–µ—Ç, –Ω–æ –Ω–µ –¥–µ–π—Å—Ç–≤—É–µ—Ç

üîπ –≠–¢–ê–ü 4. UAG-SANDBOX (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π)

–¶–µ–ª—å: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å policy enforcement L1.

–î–µ–π—Å—Ç–≤–∏—è

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:

validation

RBAC (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π)

audit log

–ü–æ–¥–∫–ª—é—á–∏—Ç—å fake_shop

–†–µ–∑—É–ª—å—Ç–∞—Ç

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ UAG

–ü–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–∞ DENY

üîπ –≠–¢–ê–ü 5. Polygon (—ç–∫–∑–∞–º–µ–Ω–∞—Ç–æ—Ä)

–¶–µ–ª—å: –¥–æ–∫–∞–∑–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å, –∞ –Ω–µ ‚Äú–≤–µ—Ä–∏—Ç—å‚Äù.

–î–µ–π—Å—Ç–≤–∏—è

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:

lifecycle (PENDING ‚Üí IN_TRIAL ‚Üí ‚Ä¶)

—Å—Ü–µ–Ω–∞—Ä–∏–π pass_get_price

–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å verdict.json

–†–µ–∑—É–ª—å—Ç–∞—Ç

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–∞

–§–æ—Ä–º–∞–ª—å–Ω—ã–π PASS

üîπ –≠–¢–ê–ü 6. –û—á–∏—Å—Ç–∫–∞ –∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ

–¶–µ–ª—å: —É–±—Ä–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏ –æ–ø–∞—Å–Ω–æ–µ.

–î–µ–π—Å—Ç–≤–∏—è

–£–¥–∞–ª–∏—Ç—å –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –∏–∑ legacy-–∫–æ–¥–∞

–û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ entrypoint

–ü—Ä–∏–≤–µ—Å—Ç–∏ –∏–º–µ–Ω–∞ –∏ –º–æ–¥—É–ª–∏ –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ L1

6. –ß—Ç–æ –º—ã –û–°–û–ó–ù–ê–ù–ù–û –Ω–µ –¥–µ–ª–∞–µ–º –Ω–∞ L1

‚ùå Fine-tuning
‚ùå Memory
‚ùå Multi-agent orchestration
‚ùå Prod-UAG
‚ùå –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–≠—Ç–æ L2+.

7. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ L1 (Definition of Done)

L1 —Å—á–∏—Ç–∞–µ—Ç—Å—è –≥–æ—Ç–æ–≤—ã–º, –µ—Å–ª–∏:

 Telegram ‚Üí Agent ‚Üí UAG ‚Üí fake_shop —Ä–∞–±–æ—Ç–∞–µ—Ç

 –ù–µ—Ç –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ provider

 DENY –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

 Polygon –≤—ã–¥–∞—ë—Ç PASS

 –í—Å–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã

 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç STRUCTURE_REPOSITORY_L1.md

8. –†–∏—Å–∫–∏ –∏ –∫–∞–∫ –º—ã –∏—Ö —Å–Ω–∏–º–∞–µ–º
–†–∏—Å–∫	–ö–∞–∫ —Å–Ω–∏–º–∞–µ–º
–ü–æ—Ç–µ—Ä—è—Ç—å —Ä–∞–±–æ—á–∏–π –±–æ—Ç	Legacy freeze
–ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –ª–∏—à–Ω–µ–µ	–≠—Ç–∞–ø–Ω–æ—Å—Ç—å
–ó–∞–ø—É—Ç–∞—Ç—å—Å—è	–ñ—ë—Å—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
¬´–°–¥–µ–ª–∞—Ç—å –∫—Ä–∞—Å–∏–≤–æ, –Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ¬ª	–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã + —Ç–µ—Å—Ç—ã
9. –°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞

Document: REFACTORING_PLAN_L1.md

Status: ACTIVE

Level: L1

Authority: Chief Architect / Project Owner

üîí END OF DOCUMENT