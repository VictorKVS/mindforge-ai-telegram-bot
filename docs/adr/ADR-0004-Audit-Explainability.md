ADR-0004: Audit & Explainability Model
Модель аудита и объяснимости решений в агентной системе
Статус: Accepted
Дата: 29.12.2025
Связанные ADR:
•	ADR-0001: AISOC Core
•	ADR-0002: Policy & Trust Model
•	ADR-0003: Agent Lifecycle & Governance
Контекст: Multi-Agent AI System / Enterprise & Regulated Environments
Владелец решения: Architecture / Security / Compliance
________________________________________
1. Контекст и проблема
Агентная система принимает решения в runtime и взаимодействует с данными, сервисами и пользователями.
В таких системах возникают ключевые требования:
•	необходимость доказать, почему было принято то или иное решение;
•	возможность воспроизвести цепочку событий;
•	соблюдение требований ИБ, регуляторов и внутреннего контроля;
•	устранение «чёрных ящиков» в ИИ-решениях.
Проблема:
Без формализованной модели аудита и explainability невозможно:
•	пройти внутренний и внешний аудит;
•	расследовать инциденты;
•	доказать соответствие требованиям (GDPR, AI Act, ISO);
•	использовать ИИ в критических и регулируемых процессах.
________________________________________
2. Принятое архитектурное решение
В архитектуру системы вводится обязательная Audit & Explainability Model, где:
•	каждое действие агента фиксируется;
•	каждое решение AISOC объяснимо;
•	аудит является неотключаемым компонентом;
•	explainability встроена в runtime, а не добавляется постфактум.
Audit Layer выступает единым источником правды (source of truth)
для технического, юридического и управленческого анализа.
________________________________________
3. Принципы модели аудита
3.1 Immutable Audit
•	записи аудита неизменяемы;
•	защищены от подмены;
•	версионируются и хешируются;
•	доступны для последующего расследования.
3.2 End-to-End Traceability
Каждое событие связано в цепочку:
•	пользователь / источник запроса;
•	агент;
•	контекст;
•	политика;
•	принятое решение;
•	результат.
3.3 Audit by Design
•	аудит встроен в архитектуру;
•	не может быть отключён агентом;
•	не зависит от бизнес-логики.
________________________________________
4. Что подлежит аудиту
Аудитируется каждое значимое событие, включая:
•	регистрация и изменение статуса агента;
•	назначение и изменение уровня доверия;
•	запросы агента к данным и сервисам;
•	решения AISOC (allow / deny / degrade / escalate);
•	изменения политик и их версий;
•	срабатывания Risk Analyzer;
•	инциденты и реакции (kill-switch, блокировки);
•	вывод агента из эксплуатации.
________________________________________
5. Модель explainability (объяснимости)
Explainability отвечает на вопрос:
«Почему система приняла именно это решение?»
Каждое решение AISOC сопровождается:
•	идентификатором политики;
•	версией политики;
•	уровнем доверия агента;
•	контекстом запроса;
•	фактором риска;
•	итоговым действием.
Explainability не раскрывает внутренние цепочки рассуждений LLM,
а объясняет архитектурно-нормативную причину решения.
________________________________________
6. Runtime Explainability
В runtime AISOC:
•	формирует краткое объяснение для:
o	оператора;
o	аудитора;
o	владельца продукта;
•	использует стандартизированные коды решений;
•	обеспечивает возможность автоматической эскалации.
Пример формулировки:
«Запрос отклонён: агент T1 попытался получить доступ к данным класса Sensitive, что запрещено политикой P-03 (v1.4).»
________________________________________
7. Взаимодействие с другими контурами
Контур	Роль
AISOC	Принятие и объяснение решений
Audit Layer	Хранение и защита логов
Policy Engine	Источник правил
Risk Analyzer	Контекст риска
Agent Lifecycle	События состояний
AITeacher	Использует обезличенные данные аудита
Audit Layer не влияет на решения,
он фиксирует и объясняет их.
________________________________________
8. Доступ к аудит-данным
Доступ предоставляется по принципу минимально необходимого:
•	операторам — оперативные события;
•	ИБ — инциденты и расследования;
•	аудиторам — полные цепочки;
•	бизнесу — агрегированные отчёты.
Данные аудита:
•	не используются для обучения бизнес-логики;
•	могут быть анонимизированы;
•	подлежат retention-политикам.
________________________________________
9. Нормативное соответствие
Модель соответствует требованиям:
•	ISO/IEC 27001 / 27002 (logging, monitoring);
•	NIST AI RMF (governance, transparency);
•	ISO/IEC 23894 (AI risk);
•	GDPR / EU AI Act (traceability, explainability);
•	SOC 2 (auditability).
________________________________________
10. Последствия принятого решения
Плюсы:
•	доказуемость решений;
•	упрощение аудитов и проверок;
•	снижение юридических рисков;
•	доверие со стороны бизнеса и регуляторов.
Минусы:
•	рост объёма логов;
•	необходимость управления хранением;
•	дополнительные требования к инфраструктуре.
________________________________________
11. Итоговое решение
Аудит и explainability — не отчётность,
а фундамент доверия к агентной системе.
Без них ИИ остаётся чёрным ящиком,
с ними — управляемым и легитимным инструментом.
